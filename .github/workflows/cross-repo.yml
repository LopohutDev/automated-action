name: Create Release Branch
on:
  push:
    branches:
      - "main"
jobs:
  Create-Release:
    runs-on: ubuntu-latest
    steps:
      - name: Get current date
        id: date
        run: echo "::set-output name=date::$(date +'%Y-%m-%d +%T')"
      # - name: Checkout Code
      #   uses: LopohutDev/checkout@main
      #   with:
      #     repository: LopohutDev/automated-action2
      #     ref: "main"
      #     token: ${{ secrets.GH_TOKEN }}
      # - name: Bump release version
      #   id: bump_version
      #   uses: LopohutDev/increment-semantic-version@master
      #   with:
      #     current-version: ${{ steps.bump_version.outputs.current-version }}
      #     version-fragment: "feature"
      # - name: Create release branch
      #   run: git checkout -b release/v${{ steps.bump_version.outputs.next-version }}
      # - name: Initialize mandatory git config
      #   run: |
      #     git config user.name "LopohutDev"
      #     git config user.email noreply@github.com
      #     git tag -a v${{ steps.bump_version.outputs.next-version }} -m "VERSION=v${{ steps.bump_version.outputs.next-version }}"
      # - name: Change version number and name
      #   run: printf 'ext.version_code =${{ steps.bump_version.outputs.next-version }}\next.version_name = "${{ steps.bump_version.outputs.next-version }}"\n' > app_versions.gradle
      # - name: Commit changelog and manifest files
      #   id: make-commit
      #   run: |
      #     git add app_versions.gradle
      #     git commit --message "Prepare release ${{ steps.bump_version.outputs.next-version }}"
      #     echo "::set-output name=commit::$(git rev-parse HEAD)"
      # - name: Push new branch
      #   run: git push origin release/v${{ steps.bump_version.outputs.next-version }}
      # - name: Create pull request into main
      #   uses: LopohutDev/create-pull-request@master
      #   with:
      #     GITHUB_TOKEN: ${{ secrets.GH_TOKEN  }}
      #     head: release/v${{ steps.bump_version.outputs.next-version }}
      #     repository: LopohutDev/automated-action2
      #     base: main
      #     title: v${{ steps.bump_version.outputs.next-version }} into main
      #     reviewers: ${{ github.event.issue.user.login }}
      #     body: |
      #       Hi!
      #       This PR was created in response workflow running.
      #       I've updated the version name and code commit: ${{ steps.make-commit.outputs.commit }}.
